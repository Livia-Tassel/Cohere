# ğŸš€ Cohere éƒ¨ç½²å®ŒæˆæŒ‡å—

## âœ… å·²å®Œæˆçš„å‡†å¤‡å·¥ä½œ

æˆ‘å·²ç»å¸®ä½ å®Œæˆäº†ä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š

1. âœ… åˆå§‹åŒ– Git ä»“åº“
2. âœ… åˆ›å»ºåˆå§‹æäº¤ï¼ˆ76 ä¸ªæ–‡ä»¶ï¼Œ20,451 è¡Œä»£ç ï¼‰
3. âœ… æ›´æ–° CORS é…ç½®ï¼ˆæ”¯æŒç”Ÿäº§ç¯å¢ƒï¼‰
4. âœ… æ›´æ–° .gitignoreï¼ˆæ’é™¤æ•æ„Ÿæ–‡ä»¶ï¼‰
5. âœ… åˆ›å»ºè¯¦ç»†çš„éƒ¨ç½²æŒ‡å—æ–‡æ¡£

---

## ğŸ“‹ é¡¹ç›®åˆ†ææ€»ç»“

### å‰ç«¯ (Client)
- **æŠ€æœ¯æ ˆ**: React 18 + Vite + Tailwind CSS + Framer Motion
- **ç«¯å£**: 3000
- **æ„å»ºå‘½ä»¤**: `npm run build`
- **è¾“å‡ºç›®å½•**: `dist/`
- **å½“å‰ API é…ç½®**: `http://localhost:5001/api`

### åç«¯ (Server)
- **æŠ€æœ¯æ ˆ**: Node.js + Express + MongoDB + Mongoose
- **ç«¯å£**: 5001ï¼ˆæ³¨æ„ï¼šä½ çš„é…ç½®æ˜¯ 5001ï¼Œä¸æ˜¯é»˜è®¤çš„ 5000ï¼‰
- **æ•°æ®åº“**: MongoDB Atlasï¼ˆå·²é…ç½®ï¼‰
- **å¯åŠ¨å‘½ä»¤**: `npm start`

### æ•°æ®åº“
- **ç±»å‹**: MongoDB Atlas
- **é›†ç¾¤**: cohere.i32mvls.mongodb.net
- **çŠ¶æ€**: âœ… å·²é…ç½®å¹¶å¯ç”¨

---

## ğŸ¯ ä¸‹ä¸€æ­¥ï¼šæ¨é€åˆ° GitHub

### æ­¥éª¤ 1ï¼šåˆ›å»º GitHub ä»“åº“

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttps://github.com/new

2. å¡«å†™ä»“åº“ä¿¡æ¯ï¼š
   ```
   Repository name: cohere
   Description: ä¸€ä¸ªç°ä»£åŒ–çš„é—®ç­”ç¤¾åŒºå¹³å°ï¼Œä½¿ç”¨ MERN æŠ€æœ¯æ ˆæ„å»º

   é€‰æ‹©ï¼š
   â—‹ Publicï¼ˆå…¬å¼€ï¼‰
   â—‹ Privateï¼ˆç§æœ‰ï¼‰- å¦‚æœä½ ä¸æƒ³å…¬å¼€ä»£ç 

   âš ï¸ ä¸è¦å‹¾é€‰ï¼š
   â–¡ Add a README file
   â–¡ Add .gitignore
   â–¡ Choose a license
   ï¼ˆå› ä¸ºæˆ‘ä»¬å·²ç»æœ‰è¿™äº›æ–‡ä»¶äº†ï¼‰
   ```

3. ç‚¹å‡» "Create repository"

### æ­¥éª¤ 2ï¼šæ¨é€ä»£ç åˆ° GitHub

åˆ›å»ºä»“åº“åï¼ŒGitHub ä¼šæ˜¾ç¤ºä¸€äº›å‘½ä»¤ã€‚ä½ éœ€è¦åœ¨ç»ˆç«¯æ‰§è¡Œï¼š

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢ YOUR_USERNAME ä¸ºä½ çš„ GitHub ç”¨æˆ·åï¼‰
git remote add origin https://github.com/YOUR_USERNAME/cohere.git

# æ¨é€ä»£ç 
git push -u origin main
```

**ç¤ºä¾‹**ï¼š
å¦‚æœä½ çš„ GitHub ç”¨æˆ·åæ˜¯ `tassel`ï¼Œå‘½ä»¤å°±æ˜¯ï¼š
```bash
git remote add origin https://github.com/tassel/cohere.git
git push -u origin main
```

---

## ğŸŒ éƒ¨ç½²åˆ°çº¿ä¸Šï¼ˆæ¨èæ–¹æ¡ˆï¼‰

### æ–¹æ¡ˆ Aï¼šVercel + Renderï¼ˆæœ€æ¨èï¼‰

#### 1ï¸âƒ£ éƒ¨ç½²åç«¯åˆ° Render

**æ­¥éª¤ï¼š**

1. è®¿é—® https://render.com
2. ç‚¹å‡»å³ä¸Šè§’ "Sign Up" æˆ– "Log In"
3. é€‰æ‹© "Sign in with GitHub"
4. æˆæƒ Render è®¿é—®ä½ çš„ GitHub
5. ç‚¹å‡» "New +" â†’ "Web Service"
6. é€‰æ‹©ä½ çš„ `cohere` ä»“åº“
7. é…ç½®å¦‚ä¸‹ï¼š

```
Name: cohere-api
Region: Singaporeï¼ˆæˆ–é€‰æ‹©ç¦»ä½ æœ€è¿‘çš„ï¼‰
Branch: main
Root Directory: server
Runtime: Node
Build Command: npm install
Start Command: npm start
Instance Type: Free
```

8. ç‚¹å‡» "Advanced"ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ï¼š

```
PORT = 5000
MONGODB_URI = mongodb+srv://livia:20041014@cohere.i32mvls.mongodb.net/?appName=Cohere
JWT_SECRET = 34cfbdc028549964a4c94c6a7daf65ad315da32e95d5aa0dc0c04ea7a7a86f70ad18d02ea01bb5039bc7c250139cf94506ba111351350f2c6d1ac5b3c893984a
NODE_ENV = production
```

9. ç‚¹å‡» "Create Web Service"

10. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦ 3-5 åˆ†é’Ÿï¼‰

11. **è®°å½•ä½ çš„ API URL**ï¼Œä¾‹å¦‚ï¼š
    ```
    https://cohere-api.onrender.com
    ```

#### 2ï¸âƒ£ éƒ¨ç½²å‰ç«¯åˆ° Vercel

**æ­¥éª¤ï¼š**

1. è®¿é—® https://vercel.com
2. ç‚¹å‡» "Sign Up" æˆ– "Log In"
3. é€‰æ‹© "Continue with GitHub"
4. æˆæƒ Vercel è®¿é—®ä½ çš„ GitHub
5. ç‚¹å‡» "Add New..." â†’ "Project"
6. æ‰¾åˆ°å¹¶é€‰æ‹© `cohere` ä»“åº“
7. ç‚¹å‡» "Import"
8. é…ç½®å¦‚ä¸‹ï¼š

```
Framework Preset: Vite
Root Directory: client
Build Command: npm run build
Output Directory: dist
Install Command: npm install
```

9. ç‚¹å‡» "Environment Variables"ï¼Œæ·»åŠ ï¼š

```
Name: VITE_API_URL
Value: https://cohere-api.onrender.com/api
```
ï¼ˆä½¿ç”¨ä½ åœ¨ Render è·å¾—çš„ URLï¼‰

10. ç‚¹å‡» "Deploy"

11. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰

12. **ä½ çš„ç½‘ç«™å·²ä¸Šçº¿ï¼** ä¾‹å¦‚ï¼š
    ```
    https://cohere.vercel.app
    ```

#### 3ï¸âƒ£ æ›´æ–° CORS é…ç½®

éƒ¨ç½²å®Œæˆåï¼Œéœ€è¦æ›´æ–°åç«¯çš„ CORS é…ç½®ï¼š

1. åœ¨ Render Dashboard ä¸­ï¼Œæ‰¾åˆ°ä½ çš„ `cohere-api` æœåŠ¡
2. ç‚¹å‡» "Environment"
3. æ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡ï¼š
   ```
   CORS_ORIGIN = https://cohere.vercel.app
   ```
   ï¼ˆä½¿ç”¨ä½ çš„ Vercel URLï¼‰
4. ç‚¹å‡» "Save Changes"
5. Render ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²

---

### æ–¹æ¡ˆ Bï¼šRailwayï¼ˆæœ€ç®€å•ï¼‰

Railway å¯ä»¥è‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²å‰åç«¯ï¼Œéå¸¸é€‚åˆæ–°æ‰‹ã€‚

**æ­¥éª¤ï¼š**

1. è®¿é—® https://railway.app
2. ç‚¹å‡» "Login" â†’ "Login with GitHub"
3. æˆæƒ Railway
4. ç‚¹å‡» "New Project"
5. é€‰æ‹© "Deploy from GitHub repo"
6. é€‰æ‹©ä½ çš„ `cohere` ä»“åº“
7. Railway ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° `client` å’Œ `server` ä¸¤ä¸ªæœåŠ¡

**é…ç½® Server æœåŠ¡ï¼š**
1. ç‚¹å‡» `server` æœåŠ¡
2. è¿›å…¥ "Variables" æ ‡ç­¾
3. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   ```
   PORT = 5000
   MONGODB_URI = mongodb+srv://livia:20041014@cohere.i32mvls.mongodb.net/?appName=Cohere
   JWT_SECRET = 34cfbdc028549964a4c94c6a7daf65ad315da32e95d5aa0dc0c04ea7a7a86f70ad18d02ea01bb5039bc7c250139cf94506ba111351350f2c6d1ac5b3c893984a
   NODE_ENV = production
   ```
4. ç‚¹å‡» "Settings" â†’ "Generate Domain" è·å– API URL

**é…ç½® Client æœåŠ¡ï¼š**
1. ç‚¹å‡» `client` æœåŠ¡
2. è¿›å…¥ "Variables" æ ‡ç­¾
3. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   ```
   VITE_API_URL = https://your-server-url.railway.app/api
   ```
   ï¼ˆä½¿ç”¨ server æœåŠ¡çš„ URLï¼‰
4. ç‚¹å‡» "Settings" â†’ "Generate Domain" è·å–å‰ç«¯ URL

**æ›´æ–° Server çš„ CORSï¼š**
1. å›åˆ° `server` æœåŠ¡
2. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   ```
   CORS_ORIGIN = https://your-client-url.railway.app
   ```

---

## ğŸ” å®‰å…¨æé†’

### âš ï¸ é‡è¦ï¼šä¿æŠ¤ä½ çš„å¯†é’¥

æˆ‘åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ä½¿ç”¨äº†ä½ å½“å‰çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²å’Œç”Ÿæˆçš„ JWT å¯†é’¥ã€‚**åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½ åº”è¯¥ï¼š**

1. **æ›´æ”¹ MongoDB å¯†ç **ï¼š
   - ç™»å½• MongoDB Atlas
   - è¿›å…¥ "Database Access"
   - ä¿®æ”¹ç”¨æˆ·å¯†ç 
   - æ›´æ–°éƒ¨ç½²å¹³å°çš„ MONGODB_URI

2. **ä½¿ç”¨æ–°çš„ JWT_SECRET**ï¼š
   - æˆ‘å·²ç»ç”Ÿæˆäº†ä¸€ä¸ªå¼ºéšæœºå¯†é’¥
   - ä½†ä½ å¯ä»¥ç”Ÿæˆæ–°çš„ï¼š
     ```bash
     node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
     ```

3. **é™åˆ¶ MongoDB ç½‘ç»œè®¿é—®**ï¼ˆå¯é€‰ï¼‰ï¼š
   - ç™»å½• MongoDB Atlas
   - è¿›å…¥ "Network Access"
   - å¯ä»¥æ·»åŠ ç‰¹å®š IP è€Œä¸æ˜¯ 0.0.0.0/0

---

## âœ… éƒ¨ç½²åæ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä½ çš„ç½‘ç«™å¹¶æµ‹è¯•ï¼š

- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸æ‰“å¼€
- [ ] å¯ä»¥æ³¨å†Œæ–°ç”¨æˆ·
- [ ] å¯ä»¥ç™»å½•
- [ ] å¯ä»¥åˆ›å»ºé—®é¢˜
- [ ] å¯ä»¥å›ç­”é—®é¢˜
- [ ] å¯ä»¥æŠ•ç¥¨ï¼ˆç‚¹èµ/ç‚¹è¸©ï¼‰
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] æ ‡ç­¾åŠŸèƒ½æ­£å¸¸
- [ ] ç”¨æˆ·ä¸ªäººä¸»é¡µæ­£å¸¸

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ¨é€åˆ° GitHub æ—¶è¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 

**è§£å†³æ–¹æ¡ˆ**ï¼š
- GitHub ä¸å†æ”¯æŒå¯†ç è®¤è¯
- ä½ éœ€è¦ä½¿ç”¨ Personal Access Token (PAT)

**åˆ›å»º PATï¼š**
1. è®¿é—® https://github.com/settings/tokens
2. ç‚¹å‡» "Generate new token" â†’ "Generate new token (classic)"
3. å‹¾é€‰ `repo` æƒé™
4. ç‚¹å‡» "Generate token"
5. å¤åˆ¶ç”Ÿæˆçš„ tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰
6. æ¨é€æ—¶ï¼Œç”¨æˆ·åè¾“å…¥ä½ çš„ GitHub ç”¨æˆ·åï¼Œå¯†ç è¾“å…¥è¿™ä¸ª token

### 2. Render éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥ï¼š**
- ç¡®ä¿ `server/package.json` ä¸­æœ‰ `"start": "node server.js"`
- æŸ¥çœ‹ Render çš„æ—¥å¿—ï¼ˆLogs æ ‡ç­¾ï¼‰
- ç¡®ä¿ç¯å¢ƒå˜é‡æ­£ç¡®

### 3. Vercel éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥ï¼š**
- ç¡®ä¿ Root Directory è®¾ç½®ä¸º `client`
- ç¡®ä¿ Build Command æ˜¯ `npm run build`
- ç¡®ä¿ Output Directory æ˜¯ `dist`

### 4. CORS é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿åç«¯æ·»åŠ äº† `CORS_ORIGIN` ç¯å¢ƒå˜é‡
- ç¡®ä¿å‰ç«¯çš„ `VITE_API_URL` æ­£ç¡®
- é‡æ–°éƒ¨ç½²åç«¯æœåŠ¡

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š
1. ä½ åœ¨å“ªä¸€æ­¥é‡åˆ°äº†é—®é¢˜
2. é”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆ
3. ä½ ä½¿ç”¨çš„æ˜¯å“ªä¸ªéƒ¨ç½²æ–¹æ¡ˆ

æˆ‘ä¼šå¸®ä½ è§£å†³ï¼ğŸš€

---

## ğŸ‰ æ­å–œï¼

å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œä½ çš„ Cohere é—®ç­”å¹³å°å°±æˆåŠŸéƒ¨ç½²åˆ°çº¿ä¸Šäº†ï¼

ä½ å¯ä»¥ï¼š
- åˆ†äº«ä½ çš„ç½‘ç«™é“¾æ¥ç»™æœ‹å‹
- åœ¨ç®€å†ä¸­å±•ç¤ºè¿™ä¸ªé¡¹ç›®
- ç»§ç»­æ·»åŠ æ–°åŠŸèƒ½

**ä¸‹ä¸€æ­¥å»ºè®®ï¼š**
- æ·»åŠ è‡ªå®šä¹‰åŸŸå
- é…ç½® SSL è¯ä¹¦ï¼ˆVercel å’Œ Render è‡ªåŠ¨æä¾›ï¼‰
- è®¾ç½®ç›‘æ§å’Œæ—¥å¿—
- æ·»åŠ æ›´å¤šåŠŸèƒ½ï¼ˆè¯„è®ºã€é€šçŸ¥ç­‰ï¼‰
